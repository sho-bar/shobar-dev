<?php require_once 'variables.php'; abstract class SmsC extends SmsAdapter { const SERVER_TIMEZONE = "Europe/Prague"; const ACTION_SEND = "sendsms"; const ACTION_SENDALL = "sendsmsall"; const ACTION_SENDALL_DTEXT = "sendsmsall2"; private $vf7a5e40d67d37281ccc9a94fab8679e140fedbfc; private $vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2; private $v25907b86b504918c158247dc913f4955c406c714; private $v05cffcc28d5370a291200c83ba5e24a107e83193; private $ve949fe683eb9735ceada53820bfe2c9007ae8bd6; private $v7fd539339123c9a853053a868abeb1ce10b29aae; public function __construct($if7a5e40d67d37281ccc9a94fab8679e140fedbfc, $i05cffcc28d5370a291200c83ba5e24a107e83193, $ie949fe683eb9735ceada53820bfe2c9007ae8bd6, $i7fd539339123c9a853053a868abeb1ce10b29aae = 0) { $this->vf7a5e40d67d37281ccc9a94fab8679e140fedbfc = $if7a5e40d67d37281ccc9a94fab8679e140fedbfc; $this->v05cffcc28d5370a291200c83ba5e24a107e83193 = $i05cffcc28d5370a291200c83ba5e24a107e83193; $this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 = $ie949fe683eb9735ceada53820bfe2c9007ae8bd6; $this->v7fd539339123c9a853053a868abeb1ce10b29aae = $i7fd539339123c9a853053a868abeb1ce10b29aae; } private function f8a3741ab0ff7f3883ec6a139583cd6c54dbf0003(&$ie50295d9dcc255e0f5fcba46726da0065b67b616, $i5d66d7c5090e9cf0a74886f1e059dd6d582d9384 = SMS_BULK_COUNT) { if(count($ie50295d9dcc255e0f5fcba46726da0065b67b616) == 0) { return false; } $i84676540daef1510ea5729a183290848a9e7accb = 0; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array("isms" => array(), "mobile" => array(), "senderID" => array(), "sendertype" => array(), "text" => array()); foreach($ie50295d9dcc255e0f5fcba46726da0065b67b616 as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i43e73008096636491c57855e1543fbbc5d9c5013) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["isms"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->isms; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["mobile"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->mobile; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["senderID"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->IDsender; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["sendertype"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->TYPEsender; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["customerid"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->IDcustomer; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["adminid"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->IDadmin; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89["text"][$i84676540daef1510ea5729a183290848a9e7accb] = $i43e73008096636491c57855e1543fbbc5d9c5013->text; unset($ie50295d9dcc255e0f5fcba46726da0065b67b616[$i7baa31be52215025da340cfec29600d8d2b327c4]); $i84676540daef1510ea5729a183290848a9e7accb++; if($i84676540daef1510ea5729a183290848a9e7accb == $i5d66d7c5090e9cf0a74886f1e059dd6d582d9384) { break; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; } static public function issetInArray($i47945e993004c137f2a9e8ebe8c6a37da82bbd94, $i0e25dddd73376aeacf409f04f4b541f8976757e9, $i99889cce33800c59ef3ba95ba4abd69563f2a2eb = 0) { if(isset($i47945e993004c137f2a9e8ebe8c6a37da82bbd94[$i0e25dddd73376aeacf409f04f4b541f8976757e9])) { return $i47945e993004c137f2a9e8ebe8c6a37da82bbd94[$i0e25dddd73376aeacf409f04f4b541f8976757e9]; } return $i99889cce33800c59ef3ba95ba4abd69563f2a2eb; } private function fdccf85339277b9cc314764bdaa564bf94c27e01a() { if($this->sendLater) { $i738fb66ac1450318a6afd838e3ce268b59e35f75 = new DateTime(); if($this->laterDate <= $i738fb66ac1450318a6afd838e3ce268b59e35f75) { $this->_error = true; $this->_errorCode[] = v_sendsms_wrongtime; return false; } else { $this->laterDate->setTimezone(new DateTimeZone(self::SERVER_TIMEZONE)); return base64_decode("JmRhdGVsYXRlcj0=").$this->laterDate->format("U"); } } return ""; } protected function sendSmsAll($i5d66d7c5090e9cf0a74886f1e059dd6d582d9384) { while($ie50295d9dcc255e0f5fcba46726da0065b67b616 = $this->f8a3741ab0ff7f3883ec6a139583cd6c54dbf0003($this->phoneNumbers, $i5d66d7c5090e9cf0a74886f1e059dd6d582d9384)) { if($this->bulkType == SmsModel::SMS_BULK) { $i10362d0b58d010e644ea05e4195fc6f67d72e348 = SmsModel::ACTION_SENDALL; $i9ac38cea5fab93adcc60aebcd3ae74b5068c6e08 = $this->fdccf85339277b9cc314764bdaa564bf94c27e01a(); if($this->_error) { return false; } $i783b4259b6d381cb0bf73aee17031d176973946e = html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'); $i783b4259b6d381cb0bf73aee17031d176973946e = addslashes($i783b4259b6d381cb0bf73aee17031d176973946e); $i783b4259b6d381cb0bf73aee17031d176973946e = str_replace("&amp;", "%26", $i783b4259b6d381cb0bf73aee17031d176973946e); $i783b4259b6d381cb0bf73aee17031d176973946e = str_replace("&", "%26", $i783b4259b6d381cb0bf73aee17031d176973946e); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("JmRhdGE9").$i783b4259b6d381cb0bf73aee17031d176973946e; } elseif($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $i10362d0b58d010e644ea05e4195fc6f67d72e348 = SmsModel::ACTION_SENDALL_DTEXT; $i9ac38cea5fab93adcc60aebcd3ae74b5068c6e08 = $this->fdccf85339277b9cc314764bdaa564bf94c27e01a(); $i84676540daef1510ea5729a183290848a9e7accb = 0; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = ""; foreach($ie50295d9dcc255e0f5fcba46726da0065b67b616[SmsModel::NUMBER_TEXT] as $ie10f888510a016f5ea5f46b736afa9e60fb62395) { $ie10f888510a016f5ea5f46b736afa9e60fb62395 = html_entity_decode($ie10f888510a016f5ea5f46b736afa9e60fb62395, ENT_QUOTES, 'UTF-8'); $ie10f888510a016f5ea5f46b736afa9e60fb62395 = addslashes($ie10f888510a016f5ea5f46b736afa9e60fb62395); $ie10f888510a016f5ea5f46b736afa9e60fb62395 = str_replace("&amp;", "%26", $ie10f888510a016f5ea5f46b736afa9e60fb62395); $ie10f888510a016f5ea5f46b736afa9e60fb62395 = str_replace("&", "%26", $ie10f888510a016f5ea5f46b736afa9e60fb62395); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 .= "&data".$i84676540daef1510ea5729a183290848a9e7accb."=".$ie10f888510a016f5ea5f46b736afa9e60fb62395; $i84676540daef1510ea5729a183290848a9e7accb++; } if($this->_error) { return false; } } else { $i10362d0b58d010e644ea05e4195fc6f67d72e348 = SmsModel::ACTION_SEND; $i9ac38cea5fab93adcc60aebcd3ae74b5068c6e08 = ""; $i783b4259b6d381cb0bf73aee17031d176973946e = html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'); $i783b4259b6d381cb0bf73aee17031d176973946e = addslashes($i783b4259b6d381cb0bf73aee17031d176973946e); $i783b4259b6d381cb0bf73aee17031d176973946e = str_replace("&amp;", "%26", $i783b4259b6d381cb0bf73aee17031d176973946e); $i783b4259b6d381cb0bf73aee17031d176973946e = str_replace("&", "%26", $i783b4259b6d381cb0bf73aee17031d176973946e); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("JmRhdGE9").$i783b4259b6d381cb0bf73aee17031d176973946e; } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPQ==").$i10362d0b58d010e644ea05e4195fc6f67d72e348. base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193. base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6. base64_decode("JnVuaWNvZGU9").$this->unicode. $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89. base64_decode("Jm51bWJlcj0=").implode(";",$ie50295d9dcc255e0f5fcba46726da0065b67b616["mobile"]). base64_decode("JmlzbXM9").implode(";",$ie50295d9dcc255e0f5fcba46726da0065b67b616["isms"]). base64_decode("JnNlbmRlcj0=").implode(";",$ie50295d9dcc255e0f5fcba46726da0065b67b616["senderID"]). $i9ac38cea5fab93adcc60aebcd3ae74b5068c6e08; if($this->v7fd539339123c9a853053a868abeb1ce10b29aae == 1) { $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = 29; $this->v25907b86b504918c158247dc913f4955c406c714 = ""; } else { $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); } if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==1) { $ic566bc3adf6fb31e047ca2b17d5619cd76414397 = explode("QQQ___QQQ", $this->v25907b86b504918c158247dc913f4955c406c714); foreach($ic566bc3adf6fb31e047ca2b17d5619cd76414397 as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i0e4db502c191d65f4204e889a1aff420bded9efe) { $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $i3e3639a7830a48411091aa35f0b620d265fbffb7 = $ifb4fc7683b8a345aa04bae018e72487978470e18 = 0; if(preg_match(DcDeR, $i0e4db502c191d65f4204e889a1aff420bded9efe, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } $i307252aa9fd27ef2c2a7f91b53f3574ca5e4d6fc = explode("__",$ifb4fc7683b8a345aa04bae018e72487978470e18); $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4 = new SmsHistoryLogger($this->db); if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 || $i3e3639a7830a48411091aa35f0b620d265fbffb7 == 11) { $i939c377efe7edd2b6c1588adceb22c081155b60f = ""; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_SENT; $this->_confirmCode[] = v_sendsms_smssent; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 111) { $i939c377efe7edd2b6c1588adceb22c081155b60f = "SMS will be send later - ".$this->laterDate->format("Y-m-d H:i:s"); $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_BUFFERED; $this->_confirmCode[] = v_sendsms_smssaved; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 9) { $i939c377efe7edd2b6c1588adceb22c081155b60f = v_sendsms_wrongnumber; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = v_sendsms_smssaved; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 15) { $i939c377efe7edd2b6c1588adceb22c081155b60f = v_sendsms_unauthorized; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 10) { $i939c377efe7edd2b6c1588adceb22c081155b60f = "low credit for sending sms"; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 22) { $i939c377efe7edd2b6c1588adceb22c081155b60f = v_sendsms_nounicode; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 23) { $i939c377efe7edd2b6c1588adceb22c081155b60f = v_smshistory_duplicate; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_DUPLICATE; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $i939c377efe7edd2b6c1588adceb22c081155b60f = $ifb4fc7683b8a345aa04bae018e72487978470e18; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $i939c377efe7edd2b6c1588adceb22c081155b60f = v_sendsms_loginerror; $i47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; $this->_error = true; } if($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $i783b4259b6d381cb0bf73aee17031d176973946e = $ie50295d9dcc255e0f5fcba46726da0065b67b616["text"][$i7baa31be52215025da340cfec29600d8d2b327c4]; } $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4->number($ie50295d9dcc255e0f5fcba46726da0065b67b616["mobile"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->text($i783b4259b6d381cb0bf73aee17031d176973946e) ->status($i47f22955fae729a8a5c6dc19913d0cdcb6b27e09) ->price(self::issetInArray($i307252aa9fd27ef2c2a7f91b53f3574ca5e4d6fc, 1)) ->credit(self::issetInArray($i307252aa9fd27ef2c2a7f91b53f3574ca5e4d6fc, 2)) ->sender($ie50295d9dcc255e0f5fcba46726da0065b67b616["senderID"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->unicode($this->unicode) ->type($this->typeSms) ->smsid(self::issetInArray($i307252aa9fd27ef2c2a7f91b53f3574ca5e4d6fc, 0)) ->total($this->smsCounterIn($i783b4259b6d381cb0bf73aee17031d176973946e)) ->note($i939c377efe7edd2b6c1588adceb22c081155b60f) ->adminid($ie50295d9dcc255e0f5fcba46726da0065b67b616["adminid"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->customerid($ie50295d9dcc255e0f5fcba46726da0065b67b616["customerid"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->subject($this->subject) ->recipient($this->recipient) ->save(); } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==2) { $this->_errors[] = v_sendsms_cantconnect; $this->_error = true; } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==29) { foreach($ie50295d9dcc255e0f5fcba46726da0065b67b616["mobile"] as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i0e4db502c191d65f4204e889a1aff420bded9efe) { if($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $i783b4259b6d381cb0bf73aee17031d176973946e = $ie50295d9dcc255e0f5fcba46726da0065b67b616["text"][$i7baa31be52215025da340cfec29600d8d2b327c4]; } $i939c377efe7edd2b6c1588adceb22c081155b60f = v_sendsms_simulationconfirm; $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4 = new SmsHistoryLogger($this->db); $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4->number($i0e4db502c191d65f4204e889a1aff420bded9efe) ->text($i783b4259b6d381cb0bf73aee17031d176973946e) ->status(SmsModel::STATUS_SIMULATION) ->sender($ie50295d9dcc255e0f5fcba46726da0065b67b616["senderID"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->unicode($this->unicode) ->type($this->typeSms) ->note($i939c377efe7edd2b6c1588adceb22c081155b60f) ->total($this->smsCounterIn($i783b4259b6d381cb0bf73aee17031d176973946e)) ->adminid($ie50295d9dcc255e0f5fcba46726da0065b67b616["adminid"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->customerid($ie50295d9dcc255e0f5fcba46726da0065b67b616["customerid"][$i7baa31be52215025da340cfec29600d8d2b327c4]) ->subject($this->subject) ->recipient($this->recipient) ->save(); } $this->_confirmCode[] = $i939c377efe7edd2b6c1588adceb22c081155b60f; } } return !$this->_error; } public function GetSmsInfo() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWluZm8y") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1) { return explode(";",$ifb4fc7683b8a345aa04bae018e72487978470e18); } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_sendsms_error; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_errorCode[] = v_sendsms_loginerror; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errorCode[] = v_sendsms_cantconnect; $this->_error = true; return false; } } public function refreshVersion() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = "action=showlastversion &username=".$this->v05cffcc28d5370a291200c83ba5e24a107e83193." &password=".$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } else { return false; } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 && strlen($ifb4fc7683b8a345aa04bae018e72487978470e18) > 0) { return $ifb4fc7683b8a345aa04bae018e72487978470e18; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_error; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==2) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_cantconnect; return false; } } public function registerSmsAccount($i10c2cab33828d32845523672265b4101741e17a0, $i340192567d0c13293e7b72e4d7926ab4475be729, $i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac, $ia434af08201717f3f656c2e722fa792fe7e63b9f, $i9b4a10858d8a76b1778120e31b66f6e699f65aea, $iab6a314decb74f5c532ecb082cfeb1655b9e98bb, $ia8ffb918a6696fe37f0bbabaf1e1a952607e959d, $i3b1c6281aaacad7a20754ff1ce66c0005b0140ca, $i82e7a3b1bd589a54f63d67ca1a06a3d62552719f, $i141fd6cf8d25a2156fcef65b7d29affd9b26822b, $i7e23db037952160bf723279bac0aa2285a3ceb6c) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPXJlZ2lzdGVy") .base64_decode("JmVtYWlsPQ==").$i10c2cab33828d32845523672265b4101741e17a0 .base64_decode("JmptZW5vPQ==").$i340192567d0c13293e7b72e4d7926ab4475be729 ."&adresa_ulice=".$i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac ."&adresa_mesto=".$ia434af08201717f3f656c2e722fa792fe7e63b9f ."&adresa_PSC=".$i9b4a10858d8a76b1778120e31b66f6e699f65aea ."&country0=".$iab6a314decb74f5c532ecb082cfeb1655b9e98bb .base64_decode("JklDTz0=").$ia8ffb918a6696fe37f0bbabaf1e1a952607e959d .base64_decode("JkRJQz0=").$i3b1c6281aaacad7a20754ff1ce66c0005b0140ca .base64_decode("JnJlZmVyZXJpZD0=").$i82e7a3b1bd589a54f63d67ca1a06a3d62552719f .base64_decode("Jmtvc29iYT0=").$i141fd6cf8d25a2156fcef65b7d29affd9b26822b .base64_decode("JmtwcmlqbWVuaT0=").$i7e23db037952160bf723279bac0aa2285a3ceb6c; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 && strlen($ifb4fc7683b8a345aa04bae018e72487978470e18) > 5) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = explode(";",$ifb4fc7683b8a345aa04bae018e72487978470e18); $this->Execute("DELETE FROM ".DB_PREFIX."sp_smsuser"); $this->Execute("INSERT INTO ".DB_PREFIX."sp_smsuser VALUES ('1','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[0])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[1])."','".$this->escape($i10c2cab33828d32845523672265b4101741e17a0)."','".$this->escape($i340192567d0c13293e7b72e4d7926ab4475be729)."','".$this->escape($i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac)."','".$this->escape($ia434af08201717f3f656c2e722fa792fe7e63b9f)."','".$this->escape($i9b4a10858d8a76b1778120e31b66f6e699f65aea)."','".$this->escape($iab6a314decb74f5c532ecb082cfeb1655b9e98bb)."','".$this->escape($ia8ffb918a6696fe37f0bbabaf1e1a952607e959d)."','".$this->escape($i3b1c6281aaacad7a20754ff1ce66c0005b0140ca)."',0,0,0,'',0,'".$this->escape($i141fd6cf8d25a2156fcef65b7d29affd9b26822b)."','".$this->escape($i7e23db037952160bf723279bac0aa2285a3ceb6c)."')"); $this->_confirmCode[] = v_adminsmsprofile_accountcreated; return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_addaccounttext.(ceil($ifb4fc7683b8a345aa04bae018e72487978470e18/60)).v_adminsmsprofile_minutes; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_cantconnect; return false; } } public function editAccount($i10c2cab33828d32845523672265b4101741e17a0, $i340192567d0c13293e7b72e4d7926ab4475be729, $i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac, $ia434af08201717f3f656c2e722fa792fe7e63b9f, $i9b4a10858d8a76b1778120e31b66f6e699f65aea, $iab6a314decb74f5c532ecb082cfeb1655b9e98bb, $ia8ffb918a6696fe37f0bbabaf1e1a952607e959d, $i3b1c6281aaacad7a20754ff1ce66c0005b0140ca, $i141fd6cf8d25a2156fcef65b7d29affd9b26822b, $i7e23db037952160bf723279bac0aa2285a3ceb6c) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWVkaXQ=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 .base64_decode("JmVtYWlsPQ==").$i10c2cab33828d32845523672265b4101741e17a0 .base64_decode("JmptZW5vPQ==").$i340192567d0c13293e7b72e4d7926ab4475be729 ."&adresa_ulice=".$i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac ."&adresa_mesto=".$ia434af08201717f3f656c2e722fa792fe7e63b9f ."&adresa_PSC=".$i9b4a10858d8a76b1778120e31b66f6e699f65aea ."&country0=".$iab6a314decb74f5c532ecb082cfeb1655b9e98bb .base64_decode("JklDTz0=").$ia8ffb918a6696fe37f0bbabaf1e1a952607e959d .base64_decode("JkRJQz0=").$i3b1c6281aaacad7a20754ff1ce66c0005b0140ca .base64_decode("Jmtvc29iYT0=").$i141fd6cf8d25a2156fcef65b7d29affd9b26822b .base64_decode("JmtwcmlqbWVuaT0=").$i7e23db037952160bf723279bac0aa2285a3ceb6c; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET email='".$this->escape($i10c2cab33828d32845523672265b4101741e17a0)."', companyname='".$this->escape($i340192567d0c13293e7b72e4d7926ab4475be729)."',addressstreet='".$this->escape($i3ec11992ba35cc28370d20bb83e1e2b71f7a8dac)."',addresscity='".$this->escape($ia434af08201717f3f656c2e722fa792fe7e63b9f)."',addresszip='".$this->escape($i9b4a10858d8a76b1778120e31b66f6e699f65aea)."',country0='".$this->escape($iab6a314decb74f5c532ecb082cfeb1655b9e98bb)."',companyid='".$this->escape($ia8ffb918a6696fe37f0bbabaf1e1a952607e959d)."',companyvat='".$this->escape($i3b1c6281aaacad7a20754ff1ce66c0005b0140ca)."',kosoba='".$this->escape($i141fd6cf8d25a2156fcef65b7d29affd9b26822b)."',kprijmeni='".$this->escape($i7e23db037952160bf723279bac0aa2285a3ceb6c)."' WHERE ID=1"); return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 5) { $this->_errorCode[] = v_adminsmsprofile_nochanges; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } } public function loginAccount($i05cffcc28d5370a291200c83ba5e24a107e83193, $ie949fe683eb9735ceada53820bfe2c9007ae8bd6) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWxvZ2lu") .base64_decode("JnVzZXJuYW1lPQ==").$i05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$ie949fe683eb9735ceada53820bfe2c9007ae8bd6; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 && strlen($ifb4fc7683b8a345aa04bae018e72487978470e18) > 0) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = explode(";",$ifb4fc7683b8a345aa04bae018e72487978470e18); $this->Execute("DELETE FROM ".DB_PREFIX."sp_smsuser;"); $this->Execute("INSERT INTO ".DB_PREFIX."sp_smsuser VALUES ('1','".$this->escape($i05cffcc28d5370a291200c83ba5e24a107e83193)."','".$this->escape($ie949fe683eb9735ceada53820bfe2c9007ae8bd6)."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[0])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[1])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[2])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[3])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[4])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[7])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[5])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[6])."',0,0,0,'',0,'".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[8])."','".$this->escape($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[9])."')"); $this->_confirmCode[] = v_adminsmsprofile_loginok; return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_errorCode[] = v_adminsmsprofile_loginerror; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } } public function editOtherSettings($i5ca425460f7dbd64a82fa844eed01062be6a63d4, $i536050355e5da37358e90b39b995cb835c3f3817, $ib3f053f0e875e83def8839101e9f03214aa94aea, $i57b13b9382c85b07794d2e947510d4fc714d6aad, $i2d750826a7743f3d26df7f750262ccc3553c05fb, $iffb584fad63eb2d3da7459ede12168698914d6fd, $i99e8a528b1a7a80057ad9e3ef552369a111b92ba, $i05cffcc28d5370a291200c83ba5e24a107e83193 = null, $ie949fe683eb9735ceada53820bfe2c9007ae8bd6 = null) { if(!isset($this->v05cffcc28d5370a291200c83ba5e24a107e83193)) { $this->v05cffcc28d5370a291200c83ba5e24a107e83193 = $i05cffcc28d5370a291200c83ba5e24a107e83193; } if(!isset($this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6)) { $this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 = $ie949fe683eb9735ceada53820bfe2c9007ae8bd6; } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWVkaXQy") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 ."&shop_domain=".$i5ca425460f7dbd64a82fa844eed01062be6a63d4 .base64_decode("JnBvY2V0a3JlZGl0PQ==").$i536050355e5da37358e90b39b995cb835c3f3817 .base64_decode("JmVtYWlsPQ==").$ib3f053f0e875e83def8839101e9f03214aa94aea; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i57b13b9382c85b07794d2e947510d4fc714d6aad != 1) { $i57b13b9382c85b07794d2e947510d4fc714d6aad = '0'; } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 || $i3e3639a7830a48411091aa35f0b620d265fbffb7 == 5) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET deletedb='".$this->escape($i2d750826a7743f3d26df7f750262ccc3553c05fb)."', simulatesms='".$this->escape($iffb584fad63eb2d3da7459ede12168698914d6fd)."', deliveryemail='".$this->escape($ib3f053f0e875e83def8839101e9f03214aa94aea)."', pocetkredit='".$this->escape($i536050355e5da37358e90b39b995cb835c3f3817)."', URLreports='".$this->escape($i57b13b9382c85b07794d2e947510d4fc714d6aad)."' WHERE ID=1"); $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing' "); if($i99e8a528b1a7a80057ad9e3ef552369a111b92ba == 1) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings VALUES (NULL,'pref_billing','1')"); } } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 11) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged2; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET deletedb='".$this->escape($i2d750826a7743f3d26df7f750262ccc3553c05fb)."', simulatesms='".$this->escape($iffb584fad63eb2d3da7459ede12168698914d6fd)."', deliveryemail='".$this->escape($ib3f053f0e875e83def8839101e9f03214aa94aea)."', pocetkredit='".$this->escape($i536050355e5da37358e90b39b995cb835c3f3817)."', URLreports='0' WHERE ID=1"); $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing' "); if($i99e8a528b1a7a80057ad9e3ef552369a111b92ba == 1) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings VALUES (NULL,'pref_billing','1')"); } } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_errorCode[] = v_adminsmsprofile_changeaccounttext.$ifb4fc7683b8a345aa04bae018e72487978470e18.v_adminsmsprofile_seeconds; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing'"); if($i99e8a528b1a7a80057ad9e3ef552369a111b92ba) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings values (NULL,'pref_billing','1')"); } return true; } public function getCountryPriceList($iab6a314decb74f5c532ecb082cfeb1655b9e98bb) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWRvc3Q=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 .base64_decode("JmFyZWE9").$iab6a314decb74f5c532ecb082cfeb1655b9e98bb .base64_decode("JmN1cnJlbmN5PQ==").smscurrency; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 && strlen($ifb4fc7683b8a345aa04bae018e72487978470e18) > 5) { return $ifb4fc7683b8a345aa04bae018e72487978470e18; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_smswizard_error; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function getExceptions() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPXNob3dleGM="); $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1) { $this->Execute("DELETE FROM `".DB_PREFIX."sp_exceptions`"); $i6759260164586078a2fa1aa45098abd39b1b024f = explode(";", $ifb4fc7683b8a345aa04bae018e72487978470e18); foreach($i6759260164586078a2fa1aa45098abd39b1b024f as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $i5e0d89199687846d39d56b6e5cbf2faf2ee4630c = explode(",", $i43ef5aef4168652439ef5de195405ced9f0f7952); $this->Execute("INSERT INTO `".DB_PREFIX."sp_exceptions` (`prefix`, `firstPrefix`, `length`, `trim`) VALUES ('".$this->escape($i5e0d89199687846d39d56b6e5cbf2faf2ee4630c[0])."', '".$this->escape($i5e0d89199687846d39d56b6e5cbf2faf2ee4630c[1])."', '".$this->escape($i5e0d89199687846d39d56b6e5cbf2faf2ee4630c[2])."', '".$this->escape($i5e0d89199687846d39d56b6e5cbf2faf2ee4630c[3])."')"); } return $ifb4fc7683b8a345aa04bae018e72487978470e18; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function validatePhoneNumber($ia5b771997fd18ae718648792bf8964e6d5719c28, $iab6a314decb74f5c532ecb082cfeb1655b9e98bb, $i7f261894a2f47535041bff3d2f42c3969e819d98) { $i44ac718078f518342da424d72ad29fad96a6ee09 = $this->getGate($iab6a314decb74f5c532ecb082cfeb1655b9e98bb, $i7f261894a2f47535041bff3d2f42c3969e819d98); if(count($i44ac718078f518342da424d72ad29fad96a6ee09) > 0) { $i28a9f69c07473c9c7e127e2d6285a83a50cd8b2d = base64_decode("JmlzbXM9").$i44ac718078f518342da424d72ad29fad96a6ee09["isms"].base64_decode("JnNlbmRlcj0=").$i44ac718078f518342da424d72ad29fad96a6ee09["senderID"]; $i59c5144d3a73f87916c16b8c477d7a54f2f38054 = $i44ac718078f518342da424d72ad29fad96a6ee09["senderID"]; } else { $i28a9f69c07473c9c7e127e2d6285a83a50cd8b2d = ""; } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWNoZWNrc2VuZGVySUQ=") ."&text_sms=".v_smswizard_confirmationcode .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 .base64_decode("JnNlbmRlcklEPQ==").$ia5b771997fd18ae718648792bf8964e6d5719c28 .$i28a9f69c07473c9c7e127e2d6285a83a50cd8b2d; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 || $i3e3639a7830a48411091aa35f0b620d265fbffb7 == 11) { if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1) { $this->_confirmCode[] = v_smswizard_retypecode; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 11) { $this->_confirmCode[] = v_smswizard_retypecode2; } $i6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = explode("__",$ifb4fc7683b8a345aa04bae018e72487978470e18); $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4 = new SmsHistoryLogger($this->db); $ie8dc7dab683ffa9fdd7cee14cccc17c9cc9483e4 ->number($ia5b771997fd18ae718648792bf8964e6d5719c28) ->text(v_smswizard_smsvalidation) ->status(SmsModel::STATUS_SENT) ->price($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[1]) ->credit($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[2]) ->type(SmsModel::TYPE_ADMIN) ->sender($i59c5144d3a73f87916c16b8c477d7a54f2f38054) ->subject(v_smswizard_smsvalidation) ->smsID($i6ac79bdc940ae4cdd0107c72e3d0d238031e3903[0]) ->total(1) ->save(); $this->_error = true; return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 111) { return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 9) { $this->_errors[] = v_smswizard_wrongnrerror; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 15) { $this->_errors[] = v_smswizard_unauthorizederror; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3 && $ifb4fc7683b8a345aa04bae018e72487978470e18 == 10) { $this->_errors[] = v_smswizard_lowcrediterror; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errors[] = v_smswizard_error2.$ifb4fc7683b8a345aa04bae018e72487978470e18; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_errors[] = v_smswizard_loginerror; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errors[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function validatePhoneNumberCode($i012aa658d0f95786dd1c7fd3281245fdfd919039, $ia5b771997fd18ae718648792bf8964e6d5719c28) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWNoZWNrc2VuZGVySURjb2Rl") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 .base64_decode("JmNvZGU9").$i012aa658d0f95786dd1c7fd3281245fdfd919039 .base64_decode("JnNlbmRlcklEPQ==").$ia5b771997fd18ae718648792bf8964e6d5719c28; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2==1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1) { return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errorCode[] = v_smswizard_error2.$ifb4fc7683b8a345aa04bae018e72487978470e18; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 4) { $this->_errorCode[] = v_smswizard_loginerror; $this->_error = true; return false; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 5) { $this->_errorCode[] = v_smswizard_confirmcode; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function refreshPriceList($iff3ebb3dc09765074cbc44bf85648fbb313741d9) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = base64_decode("YWN0aW9uPWRvc3Q=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v05cffcc28d5370a291200c83ba5e24a107e83193 .base64_decode("JnBhc3N3b3JkPQ==").$this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 .base64_decode("JmFyZWE9").$iff3ebb3dc09765074cbc44bf85648fbb313741d9 .base64_decode("JmN1cnJlbmN5PQ==").smscurrency; $this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 = $this->ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); if($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 1) { if(preg_match(DcDeR, $this->v25907b86b504918c158247dc913f4955c406c714, $i2af09b32a642d8b14a57248138366b2198436774)) { $i3e3639a7830a48411091aa35f0b620d265fbffb7 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 1); $ifb4fc7683b8a345aa04bae018e72487978470e18 = self::issetInArray($i2af09b32a642d8b14a57248138366b2198436774, 2); } if($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 1 && strlen($ifb4fc7683b8a345aa04bae018e72487978470e18) > 5) { $this->Execute("UPDATE ".DB_PREFIX."sp_routes SET info='".$this->escape($ifb4fc7683b8a345aa04bae018e72487978470e18)."' where area='".$this->escape($iff3ebb3dc09765074cbc44bf85648fbb313741d9)."'"); return true; } elseif($i3e3639a7830a48411091aa35f0b620d265fbffb7 == 3) { $this->_errors[] = v_smswizard_error; $this->_error = true; return false; } } elseif($this->vf7f7d6c0b6cb125c6c12c3872f6c38a15c4917a2 == 2) { $this->_errors[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function getGate($i63ab492d2ba8aa2b31566039f4d2b86e025f3454, $i7f261894a2f47535041bff3d2f42c3969e819d98) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_routes WHERE area='".$this->escape($i63ab492d2ba8aa2b31566039f4d2b86e025f3454)."' AND type='".$this->escape($i7f261894a2f47535041bff3d2f42c3969e819d98)."'"); if ($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($ic6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89['isms'] = $i43ef5aef4168652439ef5de195405ced9f0f7952['isms']; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89['sendertype'] = $i43ef5aef4168652439ef5de195405ced9f0f7952['sendertype']; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89['senderID'] = $i43ef5aef4168652439ef5de195405ced9f0f7952['senderID']; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; } private function ff05ffc9c5f9ea69229034d7197f0cc5799cd7ac5($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 .= base64_decode("JkFwcElEPQ==").SMS_PREFIX.$this->vf7a5e40d67d37281ccc9a94fab8679e140fedbfc.base64_decode("JnZlcnNpb249").SMS_OC_VERSION; $iae8c74e5273dec25096dbae362493a9f609ecfc8 = null; $i972607b9027c3feac004368e38cd38bf6953b058 = 80; $i4f4eb7777b2cea6934cbc170c836a3a3b7a249b3 = 443; $i749b5662fab74203c156c8239cf881cf09b52144 = base64_decode("c21zbWlkbGV0LmNvbQ=="); $i8c8e41e90eed8ead55950f7bea8087a1fc96f2d8 = 5; if(SMS_SSL_ENABLE) { $i73eb1e10d733009eea61cfd764d44db56bce19dc=$i4f4eb7777b2cea6934cbc170c836a3a3b7a249b3; $i68ef030ce8ce15dbfaeb1e24b34c3582e9525230 = "ssl://".$i749b5662fab74203c156c8239cf881cf09b52144; } else { $i68ef030ce8ce15dbfaeb1e24b34c3582e9525230 = $i749b5662fab74203c156c8239cf881cf09b52144; $i73eb1e10d733009eea61cfd764d44db56bce19dc=$i972607b9027c3feac004368e38cd38bf6953b058; } $i385caf14fae47cdfece747cd019e33a93e5cb646 = @fsockopen($i68ef030ce8ce15dbfaeb1e24b34c3582e9525230, $i73eb1e10d733009eea61cfd764d44db56bce19dc, $i69a4474469cb439592cec1eec7225484eb25e173, $i19dcbcc33e58423ae744e83d0328279efc0f7278, $i8c8e41e90eed8ead55950f7bea8087a1fc96f2d8); if(!$i385caf14fae47cdfece747cd019e33a93e5cb646) { $i385caf14fae47cdfece747cd019e33a93e5cb646 = fsockopen($i749b5662fab74203c156c8239cf881cf09b52144, $i972607b9027c3feac004368e38cd38bf6953b058, $i69a4474469cb439592cec1eec7225484eb25e173, $i19dcbcc33e58423ae744e83d0328279efc0f7278, $i8c8e41e90eed8ead55950f7bea8087a1fc96f2d8); if(!$i385caf14fae47cdfece747cd019e33a93e5cb646) { $ib43e9fa620f4207bde8fb838602b075f74035999 = curl_init('http://'.$i749b5662fab74203c156c8239cf881cf09b52144.SMS_API); if(!$ib43e9fa620f4207bde8fb838602b075f74035999) { return 2; } else { curl_setopt($ib43e9fa620f4207bde8fb838602b075f74035999, CURLOPT_POST ,1); curl_setopt($ib43e9fa620f4207bde8fb838602b075f74035999, CURLOPT_POSTFIELDS ,$iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); curl_setopt($ib43e9fa620f4207bde8fb838602b075f74035999, CURLOPT_FOLLOWLOCATION ,1); curl_setopt($ib43e9fa620f4207bde8fb838602b075f74035999, CURLOPT_HEADER ,0); curl_setopt($ib43e9fa620f4207bde8fb838602b075f74035999, CURLOPT_RETURNTRANSFER ,1); $i99dd32cf86ecb2daf3839d8a739626604fb5dbba = curl_exec($ib43e9fa620f4207bde8fb838602b075f74035999); $id7d291881522399a0c1b5928901b59c463e8d4f0 = html_entity_decode($i99dd32cf86ecb2daf3839d8a739626604fb5dbba); curl_close($ib43e9fa620f4207bde8fb838602b075f74035999); $this->v25907b86b504918c158247dc913f4955c406c714 = $id7d291881522399a0c1b5928901b59c463e8d4f0; return 1; } } else { fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "POST ".SMS_API." HTTP/1.0\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "User-Agent: Mozilla/4.0\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Host: ".$i749b5662fab74203c156c8239cf881cf09b52144."\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Content-type: application/x-www-form-urlencoded; charset=utf-8\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Content-length: ".strlen ($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89)."\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "\r\n".$iced8cbcfca3c880f0f157e119d1cc6f8691e7e89."\r\n"); while (!feof($i385caf14fae47cdfece747cd019e33a93e5cb646)) { $i3370cf1df5de924c7d3c960e3caf74875fc88938= fgets ($i385caf14fae47cdfece747cd019e33a93e5cb646, 30000); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $i3370cf1df5de924c7d3c960e3caf74875fc88938; } $i4bf43392d2c84f67f09b1a9166bb779b26635295 = fclose($i385caf14fae47cdfece747cd019e33a93e5cb646); $this->v25907b86b504918c158247dc913f4955c406c714 = $iae8c74e5273dec25096dbae362493a9f609ecfc8; return 1; } } else { fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "POST ".SMS_API." HTTP/1.0\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "User-Agent: Mozilla/4.0\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Host: ".$i749b5662fab74203c156c8239cf881cf09b52144."\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Content-type: application/x-www-form-urlencoded; charset=utf-8\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "Content-length: ".strlen ($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89)."\r\n"); fwrite($i385caf14fae47cdfece747cd019e33a93e5cb646, "\r\n".$iced8cbcfca3c880f0f157e119d1cc6f8691e7e89."\r\n"); while (!feof($i385caf14fae47cdfece747cd019e33a93e5cb646)) { $i3370cf1df5de924c7d3c960e3caf74875fc88938= fgets ($i385caf14fae47cdfece747cd019e33a93e5cb646, 30000); $iae8c74e5273dec25096dbae362493a9f609ecfc8 .= $i3370cf1df5de924c7d3c960e3caf74875fc88938; } $i4bf43392d2c84f67f09b1a9166bb779b26635295 = fclose($i385caf14fae47cdfece747cd019e33a93e5cb646); $this->v25907b86b504918c158247dc913f4955c406c714 = $iae8c74e5273dec25096dbae362493a9f609ecfc8; return 1; } } } final class PhoneNumber extends SmsAdapter { public $mobile; public $text; public $isms; public $TYPEsender; public $IDsender; public $customerid = 0; public $adminid = 0; public $countryid = null; public $city = ""; public $type; public $area; public function __construct($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, $i7f261894a2f47535041bff3d2f42c3969e819d98 = SmsModel::SMS_CTYPE_CUSTOMER, $i52fe681434363cb075f32d744f5ba794dcd3700d = 0, $ie7024543e5a8315820a70d14615faaacfd768dee = 0, $i009e42410c5f789ae4bb6aaf258f0d02e3b5d6f5 = null, $i4cf9f0116783b87bde6ffc257619ea23247bbc7b = "", $iccc7124c4929a783f68681205060c9cffb230624 = "") { $this->setDb($iaaee681b2ae1be145203cdac9fbc2c183819e0dd); $this->type = $i7f261894a2f47535041bff3d2f42c3969e819d98; $this->IDcustomer = $i52fe681434363cb075f32d744f5ba794dcd3700d; $this->IDadmin = $ie7024543e5a8315820a70d14615faaacfd768dee; $this->countryid = $i009e42410c5f789ae4bb6aaf258f0d02e3b5d6f5; $this->city = $i4cf9f0116783b87bde6ffc257619ea23247bbc7b; $this->text = $iccc7124c4929a783f68681205060c9cffb230624; if(!SMS_STATIC_PREFIX_ENABLE) { if($this->countryid != null) { if(strtolower($this->city)=="indonesia") { $iadff39480287187a5b3ab71947dbe656255c063a = 62; } else { if(method_exists($this, "getPrefix")) { $if1c72975b76ad4b342525f927cf5eff510bddbd0 = $this->getPrefix(); if(isset($if1c72975b76ad4b342525f927cf5eff510bddbd0[$this->countryid])) { $iadff39480287187a5b3ab71947dbe656255c063a = $if1c72975b76ad4b342525f927cf5eff510bddbd0[$this->countryid]; } else { $iadff39480287187a5b3ab71947dbe656255c063a = $this->getDefaultPrefix(); } } else { $iadff39480287187a5b3ab71947dbe656255c063a = $this->getDefaultPrefix(); } } } else { $iadff39480287187a5b3ab71947dbe656255c063a = $this->getDefaultPrefix(); } } else { $iadff39480287187a5b3ab71947dbe656255c063a = SMS_STATIC_PREFIX; } $this->ff2f94defb5b0b47185070b7a1e0c2e8b6d9ee022($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, $iadff39480287187a5b3ab71947dbe656255c063a, $i7f261894a2f47535041bff3d2f42c3969e819d98); } public function getArea() { return $this->area; } private function f9d6a6c272b83151955d781ad4442f1b2b83fab3b($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee) { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = preg_replace(array("/ /", "/-/", "/\(/", "/\)/", "/\./", "/\//", "/\\\/"), array("", "", "", "", "", "", ""), trim($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)); if( substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee,0,2)=="00" ) { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee,2,strlen($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)); } elseif( substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee,0,1)=="+" ) { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee,1,strlen($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)); } return $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee; } private function ff2f94defb5b0b47185070b7a1e0c2e8b6d9ee022($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, $iadff39480287187a5b3ab71947dbe656255c063a = null, $i7f261894a2f47535041bff3d2f42c3969e819d98 = SmsModel::SMS_CTYPE_CUSTOMER) { $iff3ebb3dc09765074cbc44bf85648fbb313741d9 = ""; $i8e30f49cba1075e734826ea2c439cddb3e36e8ab = false; if(!self::isPhoneNumber($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)) { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = $this->f9d6a6c272b83151955d781ad4442f1b2b83fab3b($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee); } $i681e4b46c4cd1ca8165545e94b9209075258e18c = strlen($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee); foreach (SmsVariables::$maps as $i43ef5aef4168652439ef5de195405ced9f0f7952) { if( preg_match("/^".$i43ef5aef4168652439ef5de195405ced9f0f7952["area"]."/",$i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, $i7c51fe0886c8ec0d3e6efccc667fc523f5613710) ) { $iff3ebb3dc09765074cbc44bf85648fbb313741d9=substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, 0, strlen($i43ef5aef4168652439ef5de195405ced9f0f7952["area"])); if(($i681e4b46c4cd1ca8165545e94b9209075258e18c - strlen($i43ef5aef4168652439ef5de195405ced9f0f7952["area"])) == $i43ef5aef4168652439ef5de195405ced9f0f7952["number"]) { $i8e30f49cba1075e734826ea2c439cddb3e36e8ab = true; } } } if($iadff39480287187a5b3ab71947dbe656255c063a == null && $i8e30f49cba1075e734826ea2c439cddb3e36e8ab == false) { $this->mobile = $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee; return false; } else { if($iadff39480287187a5b3ab71947dbe656255c063a != null) { $ie470a174da6284806cd82f2659bfb0fe5d896997 = substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee,0,2); $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `".DB_PREFIX."sp_exceptions` WHERE `prefix` = '".$this->escape($iadff39480287187a5b3ab71947dbe656255c063a)."' AND `firstPrefix` = '".$this->escape($ie470a174da6284806cd82f2659bfb0fe5d896997)."' AND `length` = '".$this->escape($i681e4b46c4cd1ca8165545e94b9209075258e18c)."';"); if($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $id8b1c77f3cae932c926326f36c055a82d3be1178 = 1; $i5beca1f043ee9edc3487b715bd2ba3acda28a421 = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row["trim"]; } else { $id8b1c77f3cae932c926326f36c055a82d3be1178 = 0; $i5beca1f043ee9edc3487b715bd2ba3acda28a421 = ""; } if($id8b1c77f3cae932c926326f36c055a82d3be1178 == 1) { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = $iadff39480287187a5b3ab71947dbe656255c063a.substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, $i5beca1f043ee9edc3487b715bd2ba3acda28a421, strlen($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)); $iff3ebb3dc09765074cbc44bf85648fbb313741d9 = $iadff39480287187a5b3ab71947dbe656255c063a; } elseif($i8e30f49cba1075e734826ea2c439cddb3e36e8ab == false) { if(substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, 0, 1) == "0") { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = $iadff39480287187a5b3ab71947dbe656255c063a.substr($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee, 1, strlen($i9110e9381bd52d5eb5c5fe59bf358843f431b8ee)); } else { $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee = $iadff39480287187a5b3ab71947dbe656255c063a.$i9110e9381bd52d5eb5c5fe59bf358843f431b8ee; } $iff3ebb3dc09765074cbc44bf85648fbb313741d9 = $iadff39480287187a5b3ab71947dbe656255c063a; } } $this->mobile = $i9110e9381bd52d5eb5c5fe59bf358843f431b8ee; $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_routes WHERE area='".$this->escape($iff3ebb3dc09765074cbc44bf85648fbb313741d9)."' AND type LIKE '".$this->escape($i7f261894a2f47535041bff3d2f42c3969e819d98)."' "); if ($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($ic6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i43ef5aef4168652439ef5de195405ced9f0f7952) { $this->isms = $i43ef5aef4168652439ef5de195405ced9f0f7952['isms']; $this->TYPEsender = $i43ef5aef4168652439ef5de195405ced9f0f7952['sendertype']; $this->IDsender = $i43ef5aef4168652439ef5de195405ced9f0f7952['senderID']; } } $this->area = $iff3ebb3dc09765074cbc44bf85648fbb313741d9; return true; } } public static function isPhoneNumber($i456cbef8b06f419b4de6ba928b89de5f27be046f) { return preg_match('/^[0-9]{7,18}$/', trim($i456cbef8b06f419b4de6ba928b89de5f27be046f)); } } final class SmsModel extends SmsC { const TYPE_ADMIN = 1; const TYPE_CUSTOMERS = 2; const TYPE_MARKETING = 3; const TYPE_SIMPLE = 4; const STATUS_SENT = 1; const STATUS_ERROR = 2; const STATUS_DELIVERED = 3; const STATUS_BUFFERED = 4; const STATUS_SIMULATION = 5; const STATUS_SHEDULED = 6; const STATUS_DELETED = 7; const STATUS_DND = 8; const STATUS_DUPLICATE = 9; const NO_CUSTOMER = 0; const NO_ADMIN = 0; const NO_COUNTRY = 0; const NO_CITY = ""; const SMS_CTYPE_CUSTOMER = "customer"; const SMS_CTYPE_CADMIN = "admin"; const DELIMITER = ","; const NUMBER_MOBILE = "mobile"; const NUMBER_CUSTOMER = "customerid"; const NUMBER_ADMIN = "adminid"; const NUMBER_COUNTRY = "countryid"; const NUMBER_CITY = "city"; const NUMBER_TEXT = "text"; const NUMBER_STORE = "store"; const TEXT_APPEND = true; const TEXT_REPLACE = false; const SMS_BULK = 1; const SMS_TRANSACTION = 2; const SMS_BULK_DTEXT = 3; protected $phoneNumbers = array(); protected $text = ""; protected $unicode = false; protected $unique = false; protected $type; protected $typeSms; protected $sendLater = false; protected $laterDate = null; protected $bulkType = self::SMS_BULK; protected $recipient = ""; protected $subject = ""; protected $smsLength; protected $countSms = 0; protected $user = null; protected $_confirmCode = array(); protected $_error = false; protected $_errorCode = array(); public function __construct($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i73015391a5778201a89723581a80055e4ee94321 = self::TYPE_SIMPLE, $i7f261894a2f47535041bff3d2f42c3969e819d98 = self::SMS_CTYPE_CUSTOMER, $i40d5400fe0fb2e54d4e223713d0bd326c7818395 = self::SMS_BULK, $i15f0440429ef770fbaf8bd58ae6bab5bcc2e123c = null) { $this->setDb($iaaee681b2ae1be145203cdac9fbc2c183819e0dd); if($i15f0440429ef770fbaf8bd58ae6bab5bcc2e123c == null) { $this->user = new UserProfile($this->db); } else { if(is_object($i15f0440429ef770fbaf8bd58ae6bab5bcc2e123c) && get_class($i15f0440429ef770fbaf8bd58ae6bab5bcc2e123c) == "UserProfile") { $this->user = $i15f0440429ef770fbaf8bd58ae6bab5bcc2e123c; } else { $this->_error = true; return false; } } parent::__construct($this->user->getAppId(), $this->user->getUsername(), $this->user->getPassword(), $this->user->getSimulate()); if($i7f261894a2f47535041bff3d2f42c3969e819d98 == self::SMS_CTYPE_CUSTOMER) { $this->type = self::SMS_CTYPE_CUSTOMER; } else { $this->type = self::SMS_CTYPE_CADMIN; } $this->bulkType = $i40d5400fe0fb2e54d4e223713d0bd326c7818395; $this->typeSms = $i73015391a5778201a89723581a80055e4ee94321; } public function number($i43e73008096636491c57855e1543fbbc5d9c5013, $i22aa6b231b38346691555037bc8a769c95adfde6 = self::NO_CUSTOMER, $icdc928a35495c57129b80e1b1ef71e6fc78d22fb = self::NO_ADMIN, $i009e42410c5f789ae4bb6aaf258f0d02e3b5d6f5 = self::NO_COUNTRY, $i4cf9f0116783b87bde6ffc257619ea23247bbc7b = self::NO_CITY, $i148211e1ff8d5833a2422b28f9e91f439f8f0dce = self::DELIMITER) { if($this->bulkType == self::SMS_TRANSACTION) { if(self::isPhoneNumber(self::deletePlusFromNumber($i43e73008096636491c57855e1543fbbc5d9c5013))) { unset($this->phoneNumbers); $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i43e73008096636491c57855e1543fbbc5d9c5013), $this->type, $i22aa6b231b38346691555037bc8a769c95adfde6, $icdc928a35495c57129b80e1b1ef71e6fc78d22fb, $i009e42410c5f789ae4bb6aaf258f0d02e3b5d6f5, $i4cf9f0116783b87bde6ffc257619ea23247bbc7b); } } else { if(is_array($i43e73008096636491c57855e1543fbbc5d9c5013)) { foreach($i43e73008096636491c57855e1543fbbc5d9c5013 as $ie10f888510a016f5ea5f46b736afa9e60fb62395) { if(is_array($ie10f888510a016f5ea5f46b736afa9e60fb62395) && isset($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_MOBILE])) { if(self::isPhoneNumber(self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_MOBILE]))) { if(!isset($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CUSTOMER])) { $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CUSTOMER] = self::NO_CUSTOMER; } if(!isset($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_ADMIN])) { $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_ADMIN] = self::NO_ADMIN; } if(!isset($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_COUNTRY])) { $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_COUNTRY] = self::NO_COUNTRY; } if(!isset($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CITY])) { $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CITY] = self::NO_CITY; } $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_MOBILE]), $this->type, $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CUSTOMER], $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_ADMIN], $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_COUNTRY], $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_CITY], $ie10f888510a016f5ea5f46b736afa9e60fb62395[self::NUMBER_TEXT]); } } elseif(self::isPhoneNumber(self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395), $this->type); } } } else { if(self::isPhoneNumber(self::deletePlusFromNumber($i43e73008096636491c57855e1543fbbc5d9c5013))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i43e73008096636491c57855e1543fbbc5d9c5013), $this->type, $i22aa6b231b38346691555037bc8a769c95adfde6, $icdc928a35495c57129b80e1b1ef71e6fc78d22fb, $i009e42410c5f789ae4bb6aaf258f0d02e3b5d6f5, $i4cf9f0116783b87bde6ffc257619ea23247bbc7b); } else { if($i148211e1ff8d5833a2422b28f9e91f439f8f0dce == null) { $i148211e1ff8d5833a2422b28f9e91f439f8f0dce = self::DELIMITER; } $ie50295d9dcc255e0f5fcba46726da0065b67b616 = explode($i148211e1ff8d5833a2422b28f9e91f439f8f0dce, $i43e73008096636491c57855e1543fbbc5d9c5013); foreach($ie50295d9dcc255e0f5fcba46726da0065b67b616 as $ie10f888510a016f5ea5f46b736afa9e60fb62395) { if(self::isPhoneNumber(self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($ie10f888510a016f5ea5f46b736afa9e60fb62395), $this->type); } } } } } return $this; } public function recipient($i2fb7b08d75ddb5bf1383929c82f63cb5beaca6da) { $this->recipient = $i2fb7b08d75ddb5bf1383929c82f63cb5beaca6da; return $this; } public function subject($i87395dcafb6eb7221410dbcd87e9e8ce0007214af9a0d558d4379919cde8429fdd3049e15039e89) { $this->subject = $i87395dcafb6eb7221410dbcd87e9e8ce0007214af9a0d558d4379919cde8429fdd3049e15039e89; return $this; } public function text($iccc7124c4929a783f68681205060c9cffb230624, $i83a5eaf065c3df83187d8ded527b1e3c124c2654 = self::TEXT_REPLACE) { if($i83a5eaf065c3df83187d8ded527b1e3c124c2654) { $this->text .= $iccc7124c4929a783f68681205060c9cffb230624; } else { $this->text = $iccc7124c4929a783f68681205060c9cffb230624; } $this->fbf701e6ac40f5889db17d55b292c78b1a867e013(); return $this; } public function unicode($ia16b8bee9a5a69d4ec369fae234a70efdd002c24 = true) { if($ia16b8bee9a5a69d4ec369fae234a70efdd002c24) { $this->unicode = true; } else { $this->unicode = false; } $this->fbf701e6ac40f5889db17d55b292c78b1a867e013(); return $this; } public function sendLater($i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3) { if(($this->bulkType == SmsModel::SMS_BULK || $this->bulkType == SmsModel::SMS_BULK_DTEXT) && $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3 && $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3 instanceof DateTime) { $this->laterDate = $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3; $this->sendLater = true; } else { $this->sendLater = false; } return $this; } public function unique($ia74439b5a1382238828ba4fcd21ede60406b1de2 = true) { if($ia74439b5a1382238828ba4fcd21ede60406b1de2) { $this->unique = true; } else { $this->unique = false; } return $this; } public function send($ibf701e6ac40f5889db17d55b292c78b1a867e013 = SMS_BULK_COUNT) { $this->f2a7ace9f308a4147be42c27850a45c26b19ddba9(); $this->f867d12af1d4d07b5862237ee8874aa67cecca674(); if($this->_error) { return false; } $this->sendSmsAll($ibf701e6ac40f5889db17d55b292c78b1a867e013); } public function getAreas() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(); foreach($this->phoneNumbers as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i43e73008096636491c57855e1543fbbc5d9c5013) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i7baa31be52215025da340cfec29600d8d2b327c4] = $i43e73008096636491c57855e1543fbbc5d9c5013->getArea(); } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; } public function isError() { return $this->_error; } public function getErrors() { return $this->_errorCode; } public function getConfirm() { return $this->_confirmCode; } private function fbf701e6ac40f5889db17d55b292c78b1a867e013() { $iccc7124c4929a783f68681205060c9cffb230624 = str_replace("\r\n","\n", $this->text); $this->smsLength = mb_strlen($iccc7124c4929a783f68681205060c9cffb230624, "UTF-8"); if($this->unicode == false) { if($this->smsLength < 161) { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = 1; } elseif($this->smsLength % 153 == 0) { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($this->smsLength / 153)); } else { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($this->smsLength / 153) + 1); } } elseif($this->unicode == true) { if($this->smsLength<71) { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = 1; } elseif($this->smsLength % 67 == 0) { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($this->smsLength / 67)); } else { $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($this->smsLength / 67) + 1); } } return $this->fbf701e6ac40f5889db17d55b292c78b1a867e013; } public function smsCounterIn($iccc7124c4929a783f68681205060c9cffb230624) { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = 0; $iccc7124c4929a783f68681205060c9cffb230624 = str_replace("\r\n","\n", $iccc7124c4929a783f68681205060c9cffb230624); $if94268b62459c8959f761c7e08998afae7cd1c03 = mb_strlen($iccc7124c4929a783f68681205060c9cffb230624, "UTF-8"); if($this->unicode == false) { if($if94268b62459c8959f761c7e08998afae7cd1c03 < 161) { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = 1; } elseif($if94268b62459c8959f761c7e08998afae7cd1c03 % 153 == 0) { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($if94268b62459c8959f761c7e08998afae7cd1c03 / 153)); } else { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($if94268b62459c8959f761c7e08998afae7cd1c03 / 153) + 1); } } elseif($this->unicode == true) { if($if94268b62459c8959f761c7e08998afae7cd1c03 < 71) { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = 1; } elseif($if94268b62459c8959f761c7e08998afae7cd1c03 % 67 == 0) { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($if94268b62459c8959f761c7e08998afae7cd1c03 / 67)); } else { $ibf701e6ac40f5889db17d55b292c78b1a867e013 = (floor($if94268b62459c8959f761c7e08998afae7cd1c03 / 67) + 1); } } return $ibf701e6ac40f5889db17d55b292c78b1a867e013; } private static function isPhoneNumber($i456cbef8b06f419b4de6ba928b89de5f27be046f) { return preg_match('/^[0-9]{7,18}$/', trim($i456cbef8b06f419b4de6ba928b89de5f27be046f)); } private static function deletePlusFromNumber($i456cbef8b06f419b4de6ba928b89de5f27be046f) { $i456cbef8b06f419b4de6ba928b89de5f27be046f = preg_replace(array("/ /", "/-/", "/\(/", "/\)/", "/\./", "/\//", "/\\\/"), array("", "", "", "", "", "", ""), trim($i456cbef8b06f419b4de6ba928b89de5f27be046f)); if(substr($i456cbef8b06f419b4de6ba928b89de5f27be046f, 0, 2) == "00") { $i456cbef8b06f419b4de6ba928b89de5f27be046f = substr($i456cbef8b06f419b4de6ba928b89de5f27be046f,2,strlen($i456cbef8b06f419b4de6ba928b89de5f27be046f)); } elseif(substr($i456cbef8b06f419b4de6ba928b89de5f27be046f, 0, 1) == "+") { $i456cbef8b06f419b4de6ba928b89de5f27be046f = substr($i456cbef8b06f419b4de6ba928b89de5f27be046f,1,strlen($i456cbef8b06f419b4de6ba928b89de5f27be046f)); } return $i456cbef8b06f419b4de6ba928b89de5f27be046f; } public function getNumber($i0e25dddd73376aeacf409f04f4b541f8976757e9 = 0) { return $this->phoneNumbers[$i0e25dddd73376aeacf409f04f4b541f8976757e9]->mobile; } private function f867d12af1d4d07b5862237ee8874aa67cecca674() { $i2a4990fbbc1faf5af5b0928f8c47cf969c4c475f = array(); if($this->unique){ foreach($this->phoneNumbers as $i7baa31be52215025da340cfec29600d8d2b327c4 => $i43e73008096636491c57855e1543fbbc5d9c5013) { if(in_array($i43e73008096636491c57855e1543fbbc5d9c5013->mobile, $i2a4990fbbc1faf5af5b0928f8c47cf969c4c475f)) { unset($this->phoneNumbers[$i7baa31be52215025da340cfec29600d8d2b327c4]); } else { $i2a4990fbbc1faf5af5b0928f8c47cf969c4c475f[] = $i43e73008096636491c57855e1543fbbc5d9c5013->mobile; } } } unset($i2a4990fbbc1faf5af5b0928f8c47cf969c4c475f); return; } private function f2a7ace9f308a4147be42c27850a45c26b19ddba9() { if (!strlen($this->text)>0){ $this->_errorCode[] = v_sendsms_fillsms; $this->_error = true; } if (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8") > 1530 && $this->unicode == 0){ $this->_errorCode[] = v_sendsms_smslong; $this->_error = true; } if (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8") > 670 && $this->unicode == 1){ $this->_errorCode[] = v_sendsms_unicodesmslong; $this->_error = true; } if (count($this->phoneNumbers)==0) { $this->_errorCode[] = v_sendsms_norecipients; $this->_error = true; } if ($this->user->getSimulate() == 0) { $ibc50b8879eab6b84cd6851b7a412910df24a6593 = $this->GetSmsInfo(); if((count($this->phoneNumbers) * $this->fbf701e6ac40f5889db17d55b292c78b1a867e013 * 0.01) > $ibc50b8879eab6b84cd6851b7a412910df24a6593[0]) { $this->_errorCode[] = v_sendsms_lowcreditall.count($this->phoneNumbers).v_sendsms_recipients; $this->_error = true; } } } } final class UserProfile extends SmsAdapter { private $v05cffcc28d5370a291200c83ba5e24a107e83193; private $ve949fe683eb9735ceada53820bfe2c9007ae8bd6; private $v7fd539339123c9a853053a868abeb1ce10b29aae; private $v2d750826a7743f3d26df7f750262ccc3553c05fb; private $vb3f053f0e875e83def8839101e9f03214aa94aea; private $vbc50b8879eab6b84cd6851b7a412910df24a6593; private $v560725df73eda703ab822832769b75216423939a; private $v99e8a528b1a7a80057ad9e3ef552369a111b92ba; private $vf7a5e40d67d37281ccc9a94fab8679e140fedbfc; private $v1238ed0a93a32faf9485892fe4a454435972b1cc = array(); public function __construct($iaaee681b2ae1be145203cdac9fbc2c183819e0dd) { $this->setDb($iaaee681b2ae1be145203cdac9fbc2c183819e0dd); $this->ff968eb537c03a023dd801f3fd8358460a69ff727(); } private function ff968eb537c03a023dd801f3fd8358460a69ff727($i87395dcafb6eb7221410dbcd87e9e8ce0007214a = 1) { $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_smsuser where ID=".$this->escape($i87395dcafb6eb7221410dbcd87e9e8ce0007214a)); if ($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $ic6e936002fe51b97bc1b95f337c09606ceb011de = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['user'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['user']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['passwd'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['passwd']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['email'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['email']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['companyname'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['companyname']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['addressstreet'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['addressstreet']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['addresscity'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['addresscity']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['addresszip'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['addresszip']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['country0'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['country0']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['companyid'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['companyid']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['companyvat'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['companyvat']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['deletedb'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['deletedb']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['simulatesms'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['simulatesms']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['kosoba'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['kosoba']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['kprijmeni'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['kprijmeni']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['deliveryemail'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['deliveryemail']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['pocetkredit'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['pocetkredit']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['URLreports'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de['URLreports']; $this->v05cffcc28d5370a291200c83ba5e24a107e83193 = $ic6e936002fe51b97bc1b95f337c09606ceb011de['user']; $this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6 = $ic6e936002fe51b97bc1b95f337c09606ceb011de['passwd']; $this->v7fd539339123c9a853053a868abeb1ce10b29aae = $ic6e936002fe51b97bc1b95f337c09606ceb011de['simulatesms']; $this->v2d750826a7743f3d26df7f750262ccc3553c05fb = $ic6e936002fe51b97bc1b95f337c09606ceb011de['deletedb']; $this->vb3f053f0e875e83def8839101e9f03214aa94aea = $ic6e936002fe51b97bc1b95f337c09606ceb011de['deliveryemail']; $this->vbc50b8879eab6b84cd6851b7a412910df24a6593 = $ic6e936002fe51b97bc1b95f337c09606ceb011de['pocetkredit']; $this->v560725df73eda703ab822832769b75216423939a = $ic6e936002fe51b97bc1b95f337c09606ceb011de['URLreports']; } $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_settings WHERE name = 'pref_billing'"); if ($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $this->v99e8a528b1a7a80057ad9e3ef552369a111b92ba = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row['value']; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['pref_billing'] = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row['value']; } else { $this->v99e8a528b1a7a80057ad9e3ef552369a111b92ba = 0; $this->v1238ed0a93a32faf9485892fe4a454435972b1cc['pref_billing'] = 0; } $ic6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_settings WHERE name = 'AppID'"); if ($ic6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $this->vf7a5e40d67d37281ccc9a94fab8679e140fedbfc = $ic6e936002fe51b97bc1b95f337c09606ceb011de->row['value']; } } public function getUsername() { return $this->v05cffcc28d5370a291200c83ba5e24a107e83193; } public function getPassword() { return $this->ve949fe683eb9735ceada53820bfe2c9007ae8bd6; } public function getProfile() { return $this->v1238ed0a93a32faf9485892fe4a454435972b1cc; } public function getAppId() { return $this->vf7a5e40d67d37281ccc9a94fab8679e140fedbfc; } public function getSimulate() { return $this->v7fd539339123c9a853053a868abeb1ce10b29aae; } public function getDeleteDb() { return $this->v2d750826a7743f3d26df7f750262ccc3553c05fb; } } final class SmsHistoryLogger extends SmsAdapter { private $v43e73008096636491c57855e1543fbbc5d9c5013 = ""; private $v62259e4d2a109cd2e2457f7ac21d96138638075f = ""; private $v47f22955fae729a8a5c6dc19913d0cdcb6b27e09; private $v6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = 0; private $vbc50b8879eab6b84cd6851b7a412910df24a6593 = 0; private $v925863b800f3d5cd86903a365d9190288b5ba07b = ""; private $ia16b8bee9a5a69d4ec369fae234a70efdd002c24 = 0; private $i7f261894a2f47535041bff3d2f42c3969e819d98 = 0; private $v19249061a86bc613d8723b406779cdc5f820ac71 = ""; private $v939c377efe7edd2b6c1588adceb22c081155b60f = ""; private $v2206c064d1b5bb93569e84574e27894556f74727 = 0; private $vcdc928a35495c57129b80e1b1ef71e6fc78d22fb = 0; private $v22aa6b231b38346691555037bc8a769c95adfde6 = 0; private $i2fb7b08d75ddb5bf1383929c82f63cb5beaca6da = ""; private $i87395dcafb6eb7221410dbcd87e9e8ce0007214af9a0d558d4379919cde8429fdd3049e15039e89 = ""; public function __construct($iaaee681b2ae1be145203cdac9fbc2c183819e0dd) { $this->setDb($iaaee681b2ae1be145203cdac9fbc2c183819e0dd); } public function number($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v43e73008096636491c57855e1543fbbc5d9c5013 = "+".$i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function text($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v62259e4d2a109cd2e2457f7ac21d96138638075f = str_replace("%26", "&", $i0e4db502c191d65f4204e889a1aff420bded9efe); return $this; } public function status($i0e4db502c191d65f4204e889a1aff420bded9efe) { if($i0e4db502c191d65f4204e889a1aff420bded9efe == NULL) { $i0e4db502c191d65f4204e889a1aff420bded9efe = SmsModel::STATUS_ERROR; } else { $this->v47f22955fae729a8a5c6dc19913d0cdcb6b27e09 = $i0e4db502c191d65f4204e889a1aff420bded9efe; } return $this; } public function price($i0e4db502c191d65f4204e889a1aff420bded9efe) { if($i0e4db502c191d65f4204e889a1aff420bded9efe == NULL) { $i0e4db502c191d65f4204e889a1aff420bded9efe = 0; } else { $this->v6ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $i0e4db502c191d65f4204e889a1aff420bded9efe; } return $this; } public function credit($i0e4db502c191d65f4204e889a1aff420bded9efe) { if($i0e4db502c191d65f4204e889a1aff420bded9efe == NULL) { $i0e4db502c191d65f4204e889a1aff420bded9efe = 0; } else { $this->vbc50b8879eab6b84cd6851b7a412910df24a6593 = $i0e4db502c191d65f4204e889a1aff420bded9efe; } return $this; } public function sender($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v925863b800f3d5cd86903a365d9190288b5ba07b = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function unicode($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->unicode = (int) $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function type($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->type = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function smsid($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v19249061a86bc613d8723b406779cdc5f820ac71 = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function note($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v939c377efe7edd2b6c1588adceb22c081155b60f = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function total($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->v2206c064d1b5bb93569e84574e27894556f74727 = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function adminid($i0e4db502c191d65f4204e889a1aff420bded9efe) { ((isset($i0e4db502c191d65f4204e889a1aff420bded9efe))?$this->vcdc928a35495c57129b80e1b1ef71e6fc78d22fb = $i0e4db502c191d65f4204e889a1aff420bded9efe:$this->vcdc928a35495c57129b80e1b1ef71e6fc78d22fb = 0); return $this; } public function customerid($i0e4db502c191d65f4204e889a1aff420bded9efe) { ((isset($i0e4db502c191d65f4204e889a1aff420bded9efe))?$this->v22aa6b231b38346691555037bc8a769c95adfde6 = $i0e4db502c191d65f4204e889a1aff420bded9efe:$this->v22aa6b231b38346691555037bc8a769c95adfde6 = 0); return $this; } public function recipient($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->recipient = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function subject($i0e4db502c191d65f4204e889a1aff420bded9efe) { $this->subject = $i0e4db502c191d65f4204e889a1aff420bded9efe; return $this; } public function save() { $i5219ccda793bda0dd2dd47ede46789ad8051decb = "INSERT INTO `".DB_PREFIX."sp_sms_history` " . "(`number`, `date`, `text`, `status`, `price`, `credit`, `sender`, `unicode`, `type`, `smsID`, `note`, `total`, `admin_ID`, `customer_ID`, `recipient`, `subject`) VALUES " . "(" . " '".$this->escape($this->v43e73008096636491c57855e1543fbbc5d9c5013)."', " . " NOW(), " . " '".$this->escape($this->v62259e4d2a109cd2e2457f7ac21d96138638075f)."', " . " '".$this->escape($this->v47f22955fae729a8a5c6dc19913d0cdcb6b27e09)."'," . " '".$this->escape($this->v6ac79bdc940ae4cdd0107c72e3d0d238031e3903)."'," . " '".$this->escape($this->vbc50b8879eab6b84cd6851b7a412910df24a6593)."'," . " '".$this->escape($this->v925863b800f3d5cd86903a365d9190288b5ba07b)."'," . " '".$this->escape($this->unicode)."'," . " '".$this->escape($this->type)."'," . " '".$this->escape($this->v19249061a86bc613d8723b406779cdc5f820ac71)."'," . " '".$this->escape($this->v939c377efe7edd2b6c1588adceb22c081155b60f)."'," . " '".$this->escape($this->v2206c064d1b5bb93569e84574e27894556f74727)."'," . " '".$this->escape($this->vcdc928a35495c57129b80e1b1ef71e6fc78d22fb)."'," . " '".$this->escape($this->v22aa6b231b38346691555037bc8a769c95adfde6)."'," . " '".$this->escape($this->recipient)."'," . " '".$this->escape($this->subject)."'" . ")"; $this->Execute($i5219ccda793bda0dd2dd47ede46789ad8051decb); return true; } } 